# ===========================================
# Agent Swarm Knowledge System Configuration
# ===========================================

# ------------------------------------------
# Required: Supabase Configuration
# ------------------------------------------
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_SERVICE_KEY=your-service-role-key

# ------------------------------------------
# Required: LLM API Keys (at least one required)
# ------------------------------------------
OPENAI_API_KEY=sk-your-openai-key
# ANTHROPIC_API_KEY=sk-ant-your-anthropic-key

# ------------------------------------------
# Optional: PubMed API Key (increases rate limits)
# ------------------------------------------
# PUBMED_API_KEY=your-pubmed-key

# ------------------------------------------
# Environment
# ------------------------------------------
ENVIRONMENT=production
LOG_LEVEL=INFO

# ------------------------------------------
# Agent Intervals (seconds)
# Production recommendations:
# - Research: 6 hours (21600) to avoid API overload
# - Extraction: 30 minutes (1800) for LLM cost control
# - Validation: 15 minutes (900) for quick validation
# - KB: 10 minutes (600) for fast embedding updates
# - Conflict: 1 hour (3600) for conflict detection
# ------------------------------------------
RESEARCH_INTERVAL=21600
EXTRACTION_INTERVAL=1800
VALIDATION_INTERVAL=900
KB_INTERVAL=600
CONFLICT_INTERVAL=3600
PROMPT_ENGINEERING_INTERVAL=86400

# ------------------------------------------
# Agent Batch Sizes
# ------------------------------------------
RESEARCH_BATCH_SIZE=20
EXTRACTION_BATCH_SIZE=5
VALIDATION_BATCH_SIZE=10
KB_BATCH_SIZE=10
CONFLICT_BATCH_SIZE=10

# ------------------------------------------
# Rate Limits (requests per second)
# ------------------------------------------
PUBMED_RATE_LIMIT=3.0
CROSSREF_RATE_LIMIT=10.0
OPENAI_RATE_LIMIT=5.0
RSS_RATE_LIMIT=2.0

# ------------------------------------------
# Perplexity Sonar API (for research search)
# ------------------------------------------
# PERPLEXITY_API_KEY=pplx-your-perplexity-key
PERPLEXITY_ENABLED=true

# ------------------------------------------
# Web Scraper Settings (disabled until whitelist configured)
# ------------------------------------------
SCRAPER_ENABLED=false
SCRAPER_RATE_LIMIT_DELAY=2.0
SCRAPER_TIMEOUT=30.0
SCRAPER_MAX_RETRIES=3

# ------------------------------------------
# Retry Settings
# ------------------------------------------
MAX_RETRIES=3
RETRY_BACKOFF=2.0
RETRY_MAX_WAIT=10

# ------------------------------------------
# Circuit Breaker
# ------------------------------------------
CIRCUIT_BREAKER_FAIL_MAX=5
CIRCUIT_BREAKER_RESET_TIMEOUT=60

# ------------------------------------------
# Monitoring & Health Checks
# ------------------------------------------
HEALTH_CHECK_INTERVAL=60
METRICS_COLLECTION_INTERVAL=300
ALERT_THRESHOLD_ERROR_RATE=0.1

# ------------------------------------------
# Alerting (Optional)
# For Telegram alerts:
# 1. Create bot via @BotFather
# 2. Get chat_id via @userinfobot
# ------------------------------------------
# TELEGRAM_BOT_TOKEN=your-telegram-bot-token
# TELEGRAM_CHAT_ID=your-telegram-chat-id

# For Slack alerts:
# Create incoming webhook in Slack workspace
# SLACK_WEBHOOK_URL=https://hooks.slack.com/services/xxx/yyy/zzz

# Error rate threshold to trigger alerts (0.5 = 50%)
ALERT_ERROR_RATE_THRESHOLD=0.5
